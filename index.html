<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>L2 üê¥</title>
<link rel="icon" href="assets/image.png" type="image/png">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
<style>
/* Loader */
#loader { position: fixed; top:0; left:0; width:100%; height:4px; background: rgba(255,255,255,0.1); z-index:9999;}
#progress { width:0%; height:100%; background:#fff; animation: load 2s linear forwards;}
@keyframes load { 0% { width:0%; } 100% { width:100%; } }

/* Page styling */
body {
  font-family:'Poppins',sans-serif;
  margin:0; padding:0;
  background:#1e1e2f;
  color:#ddd;
  text-align:center;
  overflow-x:hidden;
}
body::before {
  content:"AKMAL";
  position:fixed;
  top:50%; left:50%;
  transform:translate(-50%,-50%) rotate(-20deg);
  font-size:8rem;
  color:rgba(255,255,255,0.15);
  pointer-events:none;
  z-index:0;
}
h1 {margin:30px 0 10px;color:#fff;}
.btn-container {margin:20px 0; display:flex; justify-content:center; flex-wrap:wrap; gap:15px;}
button {
  background:#4c1d95; color:#fff;
  border:none; padding:12px 25px;
  font-size:1rem; cursor:pointer;
  border-radius:8px; transition:0.3s;
  flex:1 1 150px; max-width:200px;
}
button:hover {background:#6d28d9;}
.routine-card {
  background:rgba(42,42,61,0.85); padding:15px;
  border-radius:10px; max-width:400px; margin:15px auto;
}
.routine-card h2 {margin-bottom:10px;color:#fff;}
.period-slot {display:flex; justify-content:space-between; margin:3px 0; font-size:0.9rem;}
.flying {position:absolute; font-size:0.8rem; color:rgba(255,255,255,0.3); z-index:2; pointer-events:none;}
@media(max-width:768px){.routine-card{width:90%;}.flying{font-size:0.6rem;}}
@media(max-width:480px){.flying{font-size:0.5rem;}}
@keyframes fadeOut{to{opacity:0; transform:translate(-50%,-50%) scale(2);}}
.click-effect {
  position:absolute; width:20px; height:20px;
  background:#fff; border-radius:50%;
  transform:translate(-50%,-50%);
  pointer-events:none; z-index:3;
  animation:fadeOut 0.5s forwards;
}
</style>
</head>
<body>

<!-- Loader -->
<div id="loader">
  <div id="progress"></div>
</div>

<h1>L2</h1>

<div class="btn-container">
  <button onclick="location.href='class-routine.html'">Full Routine</button>
  <button onclick="location.href='cycle-test.html'">Cycle Test Routine</button>
  <button onclick="location.href='syllabus.html'">Syllabus / Grade</button>
</div>

<!-- Routine & Cycle Test Preview -->
<div class="routine-card" id="todayRoutine"></div>
<div class="routine-card" id="nextTest"></div>

<!-- Flying L2 -->
<div class="flying" id="fly1">L2</div>
<div class="flying" id="fly2">L2</div>
<div class="flying" id="fly3">L2</div>

<script>
// Hide loader after 2s
setTimeout(()=>{document.getElementById('loader').style.display='none';},2000);

// Original Class Routine Data (with teachers/labels)
const routineData = {
  'Sunday':[["6:05‚Äì6:55","Math AP"], ["6:55‚Äì7:45","Chem KP"], ["7:45‚Äì8:35","Comp LPP"], ["8:35‚Äì9:25","Chem TP"], ["9:45‚Äì10:35","Chem KBP"], ["10:35‚Äì11:25","----"]],
  'Monday':[["6:05‚Äì6:55","Nepali NSM"], ["6:55‚Äì7:45","Physics SKS"], ["7:45‚Äì8:35","Nepali URT"], ["8:35‚Äì9:25","Math AP"], ["9:45‚Äì10:35","Chem NK"], ["10:35‚Äì11:25","----"]],
  'Tuesday':[["6:05‚Äì6:55","Math YP"], ["6:55‚Äì7:45","Nepali URT"], ["7:45‚Äì8:35","Physics UKD"], ["8:35‚Äì9:25","Math BPP"], ["9:45‚Äì10:35","Chem KBP"], ["10:35‚Äì11:25","Physics HMA"]],
  'Wednesday':[["6:05‚Äì6:55","English RL"], ["6:55‚Äì7:45","Math YP"], ["7:45‚Äì8:35","Comp LPP"], ["8:35‚Äì9:25","Physics UKD"], ["9:45‚Äì10:35","English CS"], ["10:35‚Äì11:25","Chem SBS"]],
  'Thursday':[["6:05‚Äì6:55","Math AP"], ["6:55‚Äì7:45","Physics SKS"], ["7:45‚Äì8:35","Math YP"], ["8:35‚Äì9:25","Comp LPP"], ["9:45‚Äì10:35","Chem TP"], ["10:35‚Äì11:25","English CS"]],
  'Friday':[["6:05‚Äì6:55","Physics HMA"], ["6:55‚Äì7:45","Physics SKS"], ["7:45‚Äì8:35","Nepali URT"], ["8:35‚Äì9:25","Comp LPP"], ["9:45‚Äì10:35","Chem/Physics Lab"], ["10:35‚Äì11:25","English CS"]],
  'Saturday':[["----","----"]]
};
const dayNames = ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];

// Cycle Test Data (AD dates)
const cycleTest = [
  {date:'2025-10-12', subject:'Computer'},
  {date:'2025-10-13', subject:'Math'},
  {date:'2025-10-14', subject:'Physics'},
  {date:'2025-10-15', subject:'Chemistry'},
  {date:'2025-10-16', subject:'Nepali'},
  {date:'2025-10-17', subject:'English'}
];

// Get Nepal Time
function getNepalDate(){
  const now = new Date();
  const utc = now.getTime() + now.getTimezoneOffset()*60000;
  const nepalOffset = 5.75*60*60000; // 5h45m
  return new Date(utc + nepalOffset);
}

// Show routine & next cycle test
function showRoutine(){
  const nepDate = getNepalDate();
  const hour = nepDate.getHours();
  let routineDayIndex = nepDate.getDay();
  
  // Routine: after 10am show next day
  let routineLabel = "Today's Routine";
  if(hour>=10) {
    routineDayIndex = (routineDayIndex+1)%7;
    routineLabel = "Tomorrow's Routine";
  }

  const card = document.getElementById('todayRoutine');
  card.innerHTML = `<h2>${routineLabel}</h2>` +
    routineData[dayNames[routineDayIndex]].map(slot=>
      `<div class="period-slot"><span>${slot[0]}</span><span>${slot[1]}</span></div>`
    ).join('');

  // Next Cycle Test: first test with date >= today
  const todayStr = nepDate.toISOString().split('T')[0];
  let nextTest = cycleTest.find(t=>t.date>=todayStr);
  if(!nextTest) nextTest = cycleTest[0]; // fallback
  const testCard = document.getElementById('nextTest');
  testCard.innerHTML = `<h2>Upcoming Cycle Test</h2>
                        <div class="period-slot"><span>${nextTest.date}</span><span>${nextTest.subject}</span></div>`;
}

showRoutine();

// Flying L2 animation
const flies = [document.getElementById('fly1'),document.getElementById('fly2'),document.getElementById('fly3')];
flies.forEach(f=>{f.style.top=Math.random()*90+'vh'; f.style.left=Math.random()*90+'vw';});
setInterval(()=>{flies.forEach(f=>{f.style.top=Math.random()*90+'vh'; f.style.left=Math.random()*90+'vw';});},2000);

// Click effect
document.body.addEventListener('click', e=>{
  const el=document.createElement('div');
  el.className='click-effect';
  el.style.top=e.clientY+'px';
  el.style.left=e.clientX+'px';
  document.body.appendChild(el);
  setTimeout(()=>el.remove(),500);
});
</script>

</body>
</html>
