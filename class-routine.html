<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Class Routine</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
<style>
  body {
    font-family: 'Poppins', sans-serif;
    margin: 0;
    background: #1e1e2f;
    color: #ddd;
    text-align: center;
    overflow-x: hidden;
  }

  /* Watermark */
  body::before {
    content: "AKMAL";
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) rotate(-20deg);
    font-size: 8rem;
    color: rgba(255, 255, 255, 0.15);
    pointer-events: none;
    z-index: 0;
  }

  h1 {
    margin: 30px 0 10px;
    color: #fff;
  }

  .btn-back {
    display: inline-block;
    margin: 15px;
    padding: 10px 20px;
    background: #1d4ed8;
    color: #fff;
    border-radius: 8px;
    text-decoration: none;
    transition: 0.3s;
  }
  .btn-back:hover {
    background: #2563eb;
  }

  .class-routine-cards {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 20px;
    margin-bottom: 50px;
  }

  .day-card {
    background: rgba(42, 42, 61, 0.85);
    padding: 15px;
    border-radius: 10px;
    min-width: 220px;
    transition: 0.3s;
  }
  .day-card.active {
    box-shadow: 0 0 15px #6d28d9;
    transform: scale(1.05);
  }

  .day-header {
    font-weight: 600;
    margin-bottom: 8px;
    font-size: 1.1rem;
  }

  .period-slot {
    display: flex;
    justify-content: space-between;
    margin: 3px 0;
  }
  .time-slot, .subject-slot {
    font-size: 0.85rem;
  }

  /* Flying L2 */
  .flying {
    position: absolute;
    font-size: 0.8rem;
    color: rgba(255, 255, 255, 0.3);
    z-index: 2;
    pointer-events: none;
  }

  /* Responsive */
  @media(max-width:768px){
    .day-card { min-width: 160px; }
    .flying { font-size: 0.6rem; }
  }
  @media(max-width:480px){
    .flying { font-size: 0.5rem; }
  }
</style>
</head>
<body>

<h1>Class Routine</h1>
<a class="btn-back" href="index.html">← Back</a>

<div class="class-routine-cards" id="routineContainer"></div>

<!-- Flying L2 Elements -->
<div class="flying" id="fly1">L2</div>
<div class="flying" id="fly2">L2</div>
<div class="flying" id="fly3">L2</div>

<script>
  // Full Class Routine Data
  const routineData = {
    'Sunday': [["6:05–6:55","Math AP"], ["6:55–7:45","Chem KP"], ["7:45–8:35","Comp LPP"], ["8:35–9:25","Chem TP"], ["9:45–10:35","Chem KBP"], ["10:35–11:25","----"]],
    'Monday': [["6:05–6:55","Nepali NSM"], ["6:55–7:45","Physics SKS"], ["7:45–8:35","Nepali URT"], ["8:35–9:25","Math AP"], ["9:45–10:35","Chem NK"], ["10:35–11:25","----"]],
    'Tuesday': [["6:05–6:55","Math YP"], ["6:55–7:45","Nepali URT"], ["7:45–8:35","Physics UKD"], ["8:35–9:25","Math BPP"], ["9:45–10:35","Chem KBP"], ["10:35–11:25","Physics HMA"]],
    'Wednesday': [["6:05–6:55","English RL"], ["6:55–7:45","Math YP"], ["7:45–8:35","Comp LPP"], ["8:35–9:25","Physics UKD"], ["9:45–10:35","English CS"], ["10:35–11:25","Chem SBS"]],
    'Thursday': [["6:05–6:55","Math AP"], ["6:55–7:45","Physics SKS"], ["7:45–8:35","Math YP"], ["8:35–9:25","Comp LPP"], ["9:45–10:35","Chem TP"], ["10:35–11:25","English CS"]],
    'Friday': [["6:05–6:55","Physics HMA"], ["6:55–7:45","Physics SKS"], ["7:45–8:35","Nepali URT"], ["8:35–9:25","Comp LPP"], ["9:45–10:35","Chem/Physics Lab"], ["10:35–11:25","English CS"]],
    'Saturday': [["----","----"]]
  };

  const dayNames = ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];

  // Render Cards
  const container = document.getElementById('routineContainer');
  dayNames.forEach(day => {
    const card = document.createElement('div');
    card.className = 'day-card';
    card.id = 'day-' + day;

    const header = document.createElement('div');
    header.className = 'day-header';
    header.textContent = day;
    card.appendChild(header);

    routineData[day].forEach(slot => {
      const div = document.createElement('div');
      div.className = 'period-slot';
      div.innerHTML = `<span class="time-slot">${slot[0]}</span><span class="subject-slot">${slot[1]}</span>`;
      card.appendChild(div);
    });

    container.appendChild(card);
  });

  // Highlight current day based on Nepal Time
  function highlightNepalDay() {
    const now = new Date();
    const utcOffset = now.getTimezoneOffset(); // in minutes
    const nepalOffset = 5*60 + 45;
    let totalMinutes = now.getHours()*60 + now.getMinutes() + (nepalOffset + utcOffset);
    let hour = Math.floor(totalMinutes/60);
    if(hour >= 24) hour -= 24;

    let dayIndex = now.getDay();
    if(hour >= 10) dayIndex = (dayIndex + 1) % 7; // after 10am show next day

    document.querySelectorAll('.day-card').forEach(c => c.classList.remove('active'));
    document.getElementById('day-' + dayNames[dayIndex]).classList.add('active');
  }

  highlightNepalDay();

  // Flying L2 animation
  const flies = [document.getElementById('fly1'), document.getElementById('fly2'), document.getElementById('fly3')];
  flies.forEach(f => {
    f.style.top = Math.random()*90 + 'vh';
    f.style.left = Math.random()*90 + 'vw';
  });
  setInterval(() => {
    flies.forEach(f => {
      f.style.top = Math.random()*90 + 'vh';
      f.style.left = Math.random()*90 + 'vw';
    });
  }, 2000);

  // Click effect
  document.body.addEventListener('click', e => {
    const el = document.createElement('div');
    el.className = 'click-effect';
    el.style.top = e.clientY + 'px';
    el.style.left = e.clientX + 'px';
    el.style.width = '20px';
    el.style.height = '20px';
    el.style.background = '#fff';
    el.style.borderRadius = '50%';
    el.style.position = 'absolute';
    el.style.transform = 'translate(-50%,-50%)';
    el.style.pointerEvents = 'none';
    el.style.zIndex = '3';
    el.style.animation = 'fadeOut 0.5s forwards';
    document.body.appendChild(el);
    setTimeout(() => el.remove(), 500);
  });
</script>

<style>
@keyframes fadeOut{to{opacity:0; transform:translate(-50%,-50%) scale(2);}}
</style>

</body>
</html>

